---
title: IndexTTS2
tags: software
---

[IndexTTS2](https://github.com/index-tts/index-tts)是B站开源的文本转音频模型，引入了音色与情感解耦建模机制，处理支持单音频参考以外，额外支持分别指定音色参考与情感参考，实现更加灵活、细腻的语音合成控制(cite: [bilibili](https://www.bilibili.com/opus/1088207286758801445))。

我的机器平台比较老，是Ryzen 3700X + RTX2070，16G内存，Windows 11。



## 项目安装


1. 安装Git-LFS

```powershell
git lfs install
```

2. 克隆仓库

```powershell
cd index-tts
git clone https://github.com/index-tts/index-tts.git
git lfs pull
```

3. 安装UV

UV可查看[此篇](https://pzweuj.github.io/posts/UV)。

```powershell
powershell -ExecutionPolicy ByPass -c "irm https://astral.sh/uv/install.ps1 | iex"
```

4. 安装依赖

此处有两个额外选项，分别是webui、deepspeed，按照其他食用指南的说法，deepspeed主要是50系显卡才能用，因此这里只安装webui（--all-extras、--extra webui、--extra deepspeed按需选择参数）。

```powershell
uv sync --extra webui --default-index "https://mirrors.tuna.tsinghua.edu.cn/pypi/web/simple"
```

5. 下载模型

选择用魔搭平台下载，速度快点

```powershell
uv tool install "modelscope"
modelscope download --model IndexTeam/IndexTTS-2 --local_dir checkpoints
```

6. GPU测试

```powershell
uv run tools/gpu_check.py
```



## 项目启动

理论上已经完成了项目的安装，接下来进行项目启动

```powershell
uv run webui.py
```

可自定义webui的端口，以及建议使用FP16

```powershell
uv run webui.py --port 9999 --fp16
```

如果遇到SSL错误，可能是因为代理设置的问题，在启动前先设定代理

```powershell
set NO_PROXY="127.0.0.1;localhost"
```

如果必须走代理，则可以设置临时环境变量(按实际设置端口)

```powershell
$env:HTTP_PROXY = "http://127.0.0.1:7890"
$env:HTTPS_PROXY = "http://127.0.0.1:7890"
```
